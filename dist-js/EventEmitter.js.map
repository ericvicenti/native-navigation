{"version":3,"sources":["../lib/js/EventEmitter.js"],"names":["EventEmitter","registry","event","handler","push","off","events","index","indexOf","splice","length","args","forEach"],"mappings":";AACqBA,Y;AACnB,uBAAc;AACZ,KAAKC,QAAL,CAAgB,EAAhB;AACD,C;;AAEEC,K,CAAOC,O,CAAS;AACjB,GAAI,CAAC,KAAKF,QAAL,CAAcC,KAAd,CAAL,CAA2B;AACzB,KAAKD,QAAL,CAAcC,KAAd,EAAuB,EAAvB;AACD;AACD,KAAKD,QAAL,CAAcC,KAAd,EAAqBE,IAArB,CAA0BD,OAA1B;AACA,MAAO,CAAED,WAAF,CAASC,eAAT,CAAP;AACD,C;;AAE+B,IAAlBD,MAAkB,MAAlBA,KAAkB,CAAXC,OAAW,MAAXA,OAAW;AAC9B,KAAKE,GAAL,CAASH,KAAT,CAAgBC,OAAhB;AACD,C;;AAEGD,K,CAAOC,O,CAAS;AAClB,GAAMG,QAAS,KAAKL,QAAL,CAAcC,KAAd,CAAf;AACA,GAAI,CAACI,MAAL,CAAa;AACb,GAAMC,OAAQD,OAAOE,OAAP,CAAeL,OAAf,CAAd;AACA,GAAII,QAAU,CAAC,CAAf,CAAkB;AAClBD,OAAOG,MAAP,CAAcF,KAAd,CAAqB,CAArB;AACA,GAAID,OAAOI,MAAP,GAAkB,CAAtB,CAAyB;AACvB,MAAO,MAAKT,QAAL,CAAcC,KAAd,CAAP;AACD;AACF,C;;AAEIA,K,CAAgB,+BAANS,IAAM,iDAANA,IAAM;AACnB,GAAML,QAAS,KAAKL,QAAL,CAAcC,KAAd,CAAf;AACA,GAAI,CAACI,MAAL,CAAa;AACbA,OAAOM,OAAP,CAAe,wBAAWT,yBAAWQ,IAAX,CAAX,EAAf;AACD,C,4CAhCkBX,Y","file":"EventEmitter.js","sourcesContent":["// A basic, minimalist EventEmitter\nexport default class EventEmitter {\n  constructor() {\n    this.registry = {};\n  }\n\n  on(event, handler) {\n    if (!this.registry[event]) {\n      this.registry[event] = [];\n    }\n    this.registry[event].push(handler);\n    return { event, handler };\n  }\n\n  unsubscribe({ event, handler }) {\n    this.off(event, handler);\n  }\n\n  off(event, handler) {\n    const events = this.registry[event];\n    if (!events) return;\n    const index = events.indexOf(handler);\n    if (index === -1) return;\n    events.splice(index, 1);\n    if (events.length === 0) {\n      delete this.registry[event];\n    }\n  }\n\n  emit(event, ...args) {\n    const events = this.registry[event];\n    if (!events) return;\n    events.forEach(handler => handler(...args));\n  }\n}\n"]}