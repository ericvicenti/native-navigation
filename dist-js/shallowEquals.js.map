{"version":3,"sources":["../lib/js/shallowEquals.js"],"names":["hasOwnProperty","Object","prototype","shallowArray","a","b","compare","l","length","i","shallowObject","ka","kb","key","call","flat","type","shallow","aIsArray","Array","isArray","bIsArray","aTypeof","bTypeof","module","exports"],"mappings":";AACA,GAAMA,gBAAiBC,OAAOC,SAAP,CAAiBF,cAAxC;;AAEA,QAASG,aAAT,CAAsBC,CAAtB,CAAyBC,CAAzB,CAA4BC,OAA5B,CAAqC;AACnC,GAAMC,GAAIH,EAAEI,MAAZ;AACA,GAAID,IAAMF,EAAEG,MAAZ,CAAoB,MAAO,MAAP;;AAEpB,GAAIF,OAAJ,CAAa;AACX,IAAK,GAAIG,GAAI,CAAb,CAAgBA,EAAIF,CAApB,CAAuBE,GAAK,CAA5B,CAA+B;AAC7B,GAAI,CAACH,QAAQF,EAAEK,CAAF,CAAR,CAAcJ,EAAEI,CAAF,CAAd,CAAL,CAA0B,MAAO,MAAP;AAC3B;AACF,CAJD,IAIO;AACL,IAAK,GAAIA,IAAI,CAAb,CAAgBA,GAAIF,CAApB,CAAuBE,IAAK,CAA5B,CAA+B;AAC7B,GAAIL,EAAEK,EAAF,IAASJ,EAAEI,EAAF,CAAb,CAAmB,MAAO,MAAP;AACpB;AACF;;AAED,MAAO,KAAP;AACD;;AAED,QAASC,cAAT,CAAuBN,CAAvB,CAA0BC,CAA1B,CAA6BC,OAA7B,CAAsC;AACpC,GAAIK,IAAK,CAAT;AACA,GAAIC,IAAK,CAAT;;AAEA,GAAIN,OAAJ,CAAa;AACX,IAAK,GAAMO,IAAX,GAAkBT,EAAlB,CAAqB;AACnB;AACEJ,eAAec,IAAf,CAAoBV,CAApB,CAAuBS,GAAvB;AACA,CAACP,QAAQF,EAAES,GAAF,CAAR,CAAgBR,EAAEQ,GAAF,CAAhB,CAFH;AAGE,MAAO,MAAP;;AAEFF,IAAM,CAAN;AACD;AACF,CATD,IASO;AACL,IAAK,GAAME,KAAX,GAAkBT,EAAlB,CAAqB;AACnB;AACEJ,eAAec,IAAf,CAAoBV,CAApB,CAAuBS,IAAvB;AACAT,EAAES,IAAF,IAAWR,EAAEQ,IAAF,CAFb;AAGE,MAAO,MAAP;;AAEFF,IAAM,CAAN;AACD;AACF;;AAED,IAAK,GAAME,MAAX,GAAkBR,EAAlB,CAAqB;AACnB,GAAIL,eAAec,IAAf,CAAoBT,CAApB,CAAuBQ,KAAvB,CAAJ,CAAiCD,IAAM,CAAN;AAClC;;AAED,MAAOD,MAAOC,EAAd;AACD;;AAED,QAASG,KAAT,CAAcC,IAAd,CAAoB;AAClB;AACEA,OAAS,UAAT;AACAA,OAAS,QAFX;;AAID;;AAED,QAASC,QAAT,CAAiBb,CAAjB,CAAoBC,CAApB,CAAuBC,OAAvB,CAAgC;AAC9B,GAAMY,UAAWC,MAAMC,OAAN,CAAchB,CAAd,CAAjB;AACA,GAAMiB,UAAWF,MAAMC,OAAN,CAAcf,CAAd,CAAjB;;AAEA,GAAIa,WAAaG,QAAjB,CAA2B,MAAO,MAAP;;AAE3B,GAAMC,SAAU,MAAOlB,EAAvB;AACA,GAAMmB,SAAU,MAAOlB,EAAvB;;AAEA,GAAIiB,UAAYC,OAAhB,CAAyB,MAAO,MAAP;AACzB,GAAIR,KAAKO,OAAL,CAAJ,CAAmB;AACjB,MAAOhB;AACHA,QAAQF,CAAR,CAAWC,CAAX,CADG;AAEHD,IAAMC,CAFV;AAGD;;AAED,MAAOa;AACHf,aAAaC,CAAb,CAAgBC,CAAhB,CAAmBC,OAAnB,CADG;AAEHI,cAAcN,CAAd,CAAiBC,CAAjB,CAAoBC,OAApB,CAFJ;AAGD;;AAEDkB,OAAOC,OAAP,CAAiBR,OAAjB","file":"shallowEquals.js","sourcesContent":["/* eslint no-restricted-syntax:0 */\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction shallowArray(a, b, compare) {\n  const l = a.length;\n  if (l !== b.length) return false;\n\n  if (compare) {\n    for (let i = 0; i < l; i += 1) {\n      if (!compare(a[i], b[i])) return false;\n    }\n  } else {\n    for (let i = 0; i < l; i += 1) {\n      if (a[i] !== b[i]) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction shallowObject(a, b, compare) {\n  let ka = 0;\n  let kb = 0;\n\n  if (compare) {\n    for (const key in a) {\n      if (\n        hasOwnProperty.call(a, key) &&\n        !compare(a[key], b[key])\n      ) return false;\n\n      ka += 1;\n    }\n  } else {\n    for (const key in a) {\n      if (\n        hasOwnProperty.call(a, key) &&\n        a[key] !== b[key]\n      ) return false;\n\n      ka += 1;\n    }\n  }\n\n  for (const key in b) {\n    if (hasOwnProperty.call(b, key)) kb += 1;\n  }\n\n  return ka === kb;\n}\n\nfunction flat(type) {\n  return (\n    type !== 'function' &&\n    type !== 'object'\n  );\n}\n\nfunction shallow(a, b, compare) {\n  const aIsArray = Array.isArray(a);\n  const bIsArray = Array.isArray(b);\n\n  if (aIsArray !== bIsArray) return false;\n\n  const aTypeof = typeof a;\n  const bTypeof = typeof b;\n\n  if (aTypeof !== bTypeof) return false;\n  if (flat(aTypeof)) {\n    return compare\n      ? compare(a, b)\n      : a === b;\n  }\n\n  return aIsArray\n    ? shallowArray(a, b, compare)\n    : shallowObject(a, b, compare);\n}\n\nmodule.exports = shallow;\n"]}